# PhotoSafe Production Environment Configuration Example
#
# Copy this file to .env.production and customize the values
# Then run: docker-compose --env-file .env.production up -d
#
# Or copy to .env for the default docker-compose up command

# Database Configuration
POSTGRES_DB=photosafe
POSTGRES_USER=photosafe
# IMPORTANT: Set a strong password for production!
POSTGRES_PASSWORD=change-this-to-a-strong-password

# API Configuration
VITE_API_URL=http://backend:8000

# Port Mappings
# For production behind a reverse proxy, you may want to change these
# or remove port mappings from docker-compose.yml entirely
BACKEND_PORT=8000:8000
FRONTEND_PORT=5000:5173

# Service Commands (Production Mode)
# These disable hot-reload and run optimized builds
BACKEND_COMMAND=sh -c "alembic upgrade head && uvicorn app.main:app --host 0.0.0.0 --port 8000"
FRONTEND_COMMAND=npm run preview -- --host 0.0.0.0

# Restart Policy
# Use "always" for production to ensure services restart after reboot
RESTART_POLICY=always

# Note: In production, the code volumes are still mounted from the repository
# directory. For true production deployment, consider using a multi-stage
# Docker build that copies the code into the image rather than mounting it.
# Alternatively, use Docker Compose override files for production-specific
# volume configurations.

